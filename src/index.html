<!-- Adapted from bootstrap signin demo page -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <meta name="keyshare-server-url" value="[KEYSHARE_SERVER_URL]">
        <meta name="scheme-mananger-url" value="[SCHEME_MANAGER_URL]">
        <meta name="irma-api-server" value="[API_SERVER_URL]">
        <meta name="irma-web-server" value="[API_WEB_URL]">

        <title>MijnIRMA</title>

        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="bower_components/bootstrap3-dialog/src/css/bootstrap-dialog.css" rel="stylesheet">

        <link href="keyshare.css" rel="stylesheet">

        <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
        <script type="text/javascript" src="bower_components/js-cookie/src/js.cookie.js"></script>
        <script type="text/javascript" src="bower_components/jquery-qrcode/dist/jquery.qrcode.js"></script>
        <script type="text/javascript" src="bower_components/moment/moment.js"></script>
        <script type="text/javascript" src="bower_components/moment/locale/nl.js"></script>
        <script type="text/javascript" src="bower_components/bootstrap/js/modal.js"></script>
        <script type="text/javascript" src="bower_components/bootstrap3-dialog/src/js/bootstrap-dialog.js"></script>
        <script type="text/javascript" src="bower_components/jwt-decode/build/jwt-decode.js"></script>
        <script type="text/javascript" src="keyshare.js"></script>
        <script type="text/javascript" src="[IRMA_JS_URL]irma.js" async defer></script>
    </head>

    <body>

        <div class="container" id="alert_box">
        </div>

        <div class="container" id="login-container" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2 id="login-header">MijnIRMA login</h2>
                <p>Dit is de MijnIRMA website van de <strong>[SCHEME_MANAGER_NAME]</strong>.
                U kunt hier het gebruik van uw IRMA app bekijken, of het gebruik
                van uw IRMA app blokkeren.</p>

                <div class="form-signin">
                    <h3 class="form-signin-heading">Log in met</h3>
                    <form id="login-form-irma">
                        <button class="btn btn-lg btn-primary btn-block" type="submit" id="signin-button-irma">IRMA</button>
                    </form>
                    <div id="login-separator">of</div>
                    <form id="login-form-email">
                        <div class="input-group">
                            <input type="email" id="input-email" class="form-control" placeholder="E-mailadres" required autofocus>
                            <span class="input-group-btn">
                                <button class="btn btn-lg btn-primary" type="submit" id="signin-button-email">E-mail link</button>
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div> <!-- /container -->

        <div class="container" id="login-done" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>Controleer uw e-mail</h2>
                <p>Log in door te klikken op de link die naar uw e-mailadres is verstuurd.</p>
            </div>
        </div> <!-- /container -->

        <div class="container" id="enrolment-container" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2 class="text-center">Scheme manager QR</h2>
                <div class="img-responsive center-block text-center">
                    <div id="enroll_qr"></div>
                    <p>
                        Scan de QR-code met uw IRMA app om de scheme manager te installeren.
                    </p>
                </div>
            </div>
        </div>

        <div class="container" id="enrollment-email-issue" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>MijnIRMA-registratie: stap 4</h2>

                <p>
                    Uw e-mailadres <span id="enrollment-email-address"></span> is nu gecontroleerd.
                    Klik hieronder om dit adres in uw IRMA app te laden. U kunt deze later gebruiken
                    om in te loggen op MijnIRMA. Dit is de laatste stap in het registratieproces.
                </p>

                <p>
                    (Let op: uw browser moet hiervoor cookies en popups toestaan. Als u uw e-mailadres niet
                    nu als attribuut laadt, kunt u later ook via uw e-mailadres op MijnIRMA inloggen
                    en uw e-mailadres dan als attribuut laden.)
                </p>

                <button class="btn btn-primary" id="issue-email-btn">Laad e-mailadres attribuut</button>

                <div id="email-issue-help" hidden>
                    <h3>Wat nu?</h3>
                    <p class="col-lg-6 col-md-6 col-xs-12">
                        Pak uw telefoon, open de IRMA app, en tik op "Tap to scan QR" bovenin het scherm.
                        Scan de QR-code en volg de instructies in de app.
                    </p>
                    <img src="img/irma-app.png" class="img-fluid img-thumbnail col-lg-6 col-md-6 col-xs-12" alt="IRMA app screenshot">
                </div>
            </div>
        </div>

        <div class="container" id="enrollment-finished" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>MijnIRMA-registratie klaar</h2>
                <p>
                    Gefeliciteerd! De MijnIRMA-registratie is nu afgerond, en uw eerste IRMA-attribuut staat op uw telefoon.
                    <ul>
                        <li><a href="/enroll">Laad meer attributen</a></li>
                        <li><a id="show-main" href="#">Ga naar MijnIRMA</a></li>
                        <li><a id="enrollment-test-email-button" href="#">Test het e-mailadres attribuut</a></li>
                    </ul>
                </p>
                <div id="email-issue-test" hidden>
                    <h4>Verificatie gelukt</h4>
                    E-mailadres: <span id="enrollment-test-email"></span>
                </div>
            </div>
        </div>

        <div class="container" id="user-container" hidden>
            <div class="col-xs-12 col-md-10 col-lg-8 col-md-offset-2 col-lg-offset-2">
                <h2>MijnIRMA</h2>
                <p><span id="username"></span> - <a href="#" id="logout-btn">Log uit</a></p>

                <div id="issue-email-later" hidden>
                    <h3>Laad uw e-mailadres in uw IRMA app</h3>
                    <p>
                        Klik hieronder om uw e-mailadres als attribuut in uw IRMA app te laden.
                        U kunt deze dan later gebruiken om hier in te loggen.
                    </p>
                    <button class="btn btn-primary issue-email-btn" id="issue-email-later-btn">Laad e-mailadres attribuut</button>
                </div>

                <h3>Bekijk het gebruik van uw IRMA app</h3>
                <button class="btn" id="refresh-btn">Ververs</button>
                <button class="btn" id="prev-btn"><span class="glyphicon glyphicon-chevron-left"></span> Vorige</button>
                <button class="btn" id="next-btn">Volgende <span class="glyphicon glyphicon-chevron-right"></span></button>
                <table class="table" id="user-logs">
                    <thead>
                        <tr>
                            <th>Wanneer</th>
                            <th>Gebeurtenis</th>
                        </tr>
                    </thead>
                    <tbody id="user-logs-body">
                    </tbody>
                </table>

                <h3>Blokkeer of verwijder MijnIRMA</h3>
                <p>
                    Als u uw MijnIRMA blokkeert worden al uw attributen permanent onbruikbaar, maar u kan nog steeds recent gebruik hier bekijken. Als u uw MijnIRMA verwijdert, worden alle gebeurtenissen en uw e-mailadres permanent gewist.
                </p>
                <p>
                    <em>Waarschuwing:</em> uw MijnIRMA blokkeren of verwijderen is permanent! Als u daarna opnieuw IRMA wilt gaan gebruiken zal uw opnieuw bij MijnIRMA moeten registreren en al uw attributen opnieuw moeten verkrijgen.
                </p>
                <button class="btn btn-danger" id="disable-btn" hidden>Blokkeer MijnIRMA</button>
                <button class="btn btn-danger" id="delete-btn" hidden>Verwijder MijnIRMA</button>
            </div>
        </div>

    </body>
</html>
