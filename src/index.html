<!-- Adapted from bootstrap signin demo page -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <meta name="keyshare-server-url" value="[KEYSHARE_SERVER_URL]">
        <meta name="scheme-mananger-url" value="[SCHEME_MANAGER_URL]">
        <meta name="irma-api-server" value="[API_SERVER_URL]">
        <meta name="irma-web-server" value="[API_WEB_URL]">

        <title>MijnIRMA login</title>

        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="bower_components/bootstrap3-dialog/src/css/bootstrap-dialog.css" rel="stylesheet">

        <link href="keyshare.css" rel="stylesheet">

        <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
        <script type="text/javascript" src="bower_components/js-cookie/src/js.cookie.js"></script>
        <script type="text/javascript" src="bower_components/jquery-qrcode/dist/jquery.qrcode.js"></script>
        <script type="text/javascript" src="bower_components/moment/moment.js"></script>
        <script type="text/javascript" src="bower_components/bootstrap/js/modal.js"></script>
        <script type="text/javascript" src="bower_components/bootstrap3-dialog/src/js/bootstrap-dialog.js"></script>
        <script type="text/javascript" src="keyshare.js"></script>
        <script type="text/javascript" src="[IRMA_JS_URL]irma.js" async defer></script>
    </head>

    <body>

        <div class="container" id="alert_box">
        </div>

        <div class="container" id="login-container" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>MijnIRMA login</h2>
                <p>Dit is de MijnIRMA van <strong>[SCHEME_MANAGER_NAME]</strong>.
                U kunt hier het gebruik van uw IRMA-app bekijken, of het gebruik
                van uw IRMA-app blokkeren.</p>

                <div class="form-signin">
                    <h3 class="form-signin-heading">Log in met</h3>
                    <form id="login-form-irma">
                        <button class="btn btn-lg btn-primary btn-block" type="submit" id="signin-button-irma">IRMA</button>
                    </form>
                    <div id="login-separator">of</div>
                    <form id="login-form-email">
                        <div class="input-group">
                            <input type="email" id="input-email" class="form-control" placeholder="Email address" required autofocus>
                            <span class="input-group-btn">
                                <button class="btn btn-lg btn-primary" type="submit" id="signin-button-email">Email link</button>
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div> <!-- /container -->

        <div class="container" id="login-done" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>Check your email</h2>
                <p>Log in by clicking on the link that has been sent to your email address.</p>
            </div>
        </div> <!-- /container -->

        <div class="container" id="enrolment-container" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2 class="text-center">[SCHEME_MANAGER_NAME] scheme manager</h2>
                <div class="img-responsive center-block text-center">
                    <div id="enroll_qr"></div>
                    <p>Scan this QR code with your IRMA app to install the [SCHEME_MANAGER_NAME] scheme manager and register to this keyshare server.</p>
                </div>
            </div>
        </div>

        <div class="container" id="enrollment-finished" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>Enrollment completed successfully</h2>

                <p>You have successfully enrolled to this keyshare server. You can now start using credentials associated to this server.</p>
                <ul><li><a class="frontpage">Go to your keyshare portal</a></li></ul>

                <h3>Get an email address attribute</h3>
                <p>You can issue your email address as an attribute below.</p>
                <button class="btn btn-primary issue-email-btn" id="issue-email-btn" hidden>Get email attribute</button>
            </div>
        </div>

        <div class="container" id="user-container" hidden>
            <div class="col-xs-12 col-md-8 col-lg-6 col-md-offset-2 col-lg-offset-3">
                <h2>Welcome to your keyshare portal</h2>
                <p><span id="username"></span> - <a href="#" id="logout-btn">Log out</a></p>

                <h3>Recent events</h3>
                <button class="btn" id="refresh-btn">Refresh</button>
                <button class="btn" id="prev-btn"><span class="glyphicon glyphicon-chevron-left"></span> Previous</button>
                <button class="btn" id="next-btn">Next <span class="glyphicon glyphicon-chevron-right"></span></button>
                <table class="table" id="user-logs">
                    <thead>
                        <tr>
                            <th>When</th>
                            <th>Event</th>
                        </tr>
                    </thead>
                    <tbody id="user-logs-body">
                    </tbody>
                </table>

                <h3>Get or renew your email address attribute</h3>
                <p>You can issue your email address as an attribute. This attribute can then be used to login on this keyshare portal.</p>
                <button class="btn btn-primary issue-email-btn" id="issue-email-btn" hidden>Get email attribute</button>

                <h3>Disable or delete your account</h3>
                <p>If you disable your IRMA app, your attributes will become permanently unusable, but you will still be able to view your log events here. If you delete your account, all events and your email address will additionally be deleted from the keyshare server.</p>
                <p><em>Warning</em>: disabling or deleting your account is permanent! If you want to start using IRMA again, you will have to re-register and re-issue all your attributes.</p>
                <button class="btn btn-danger" id="disable-btn" hidden>Disable IRMA app</button>
                <button class="btn btn-danger" id="delete-btn" hidden>Delete account</button>
            </div>
        </div>

    </body>
</html>
